# 微信小程序学习第9天

## 优购案例-订单结果页

图片

#### 01.页面分析

1. 支付页面，支付取消或者支付成功，都会进入订单结果页

2. 订单结果页支付成功，展示成功状态和首页按钮，点首页按钮去到首页
3. 订单结果页支付失败，展示失败状态和首页按钮与订单详情按钮，点首页按钮去到首页，点订单详情去到订单详情

#### 02.静态页面

1. 文案及两个按钮

#### 03.基本逻辑

1. 支付成功跳转订单结果页
2. 支付成功与失败显示文案及按钮
3. 未登录跳转登录



## 优购案例-订单详情

图片

#### 01.页面分析

1. 订单结果点订单详情去到订单详情
2. 订单详情展示订单基本信息

#### 02.静态页面

1. 展示订单基本信息

#### 03.请求&渲染数据

1. 未登录跳转登录

2. 查询订单状态

   1. 接口 /api/public/v1/my/orders/chkOrder

      1. 请求方式POST

      2. 请求头:

          "Authorization" : token //需要设置token带给后台

      3. 请求体:
           order_number : 订单号

## 优购案例-我的

<img src="C:\Users\panliang\Desktop\learnmp\day09\01-教学资料\微信小程序09-备课.assets\4-我的--my.PNG" alt="4-我的--my" style="zoom:33%;" />

#### 01.页面分析

1. 入口是tabBar
2. 展示登录状态收藏店铺、订单及其他信息
3. 已经登录展示用户头像和昵称，未登陆就显示登录，点登录跳转登录
4. 点订单跳转订单列表

#### 02.静态页面

#### 03.基本逻辑

1. 已经登录展示用户头像和昵称，未登陆就显示登录，点登录跳转登录
2. 拨打电话





## 优购案例-订单列表

<img src="C:\Users\panliang\Desktop\learnmp\day09\01-教学资料\微信小程序09-备课.assets\6-订单列表--orders.PNG" alt="6-订单列表--orders" style="zoom:33%;" />

#### 01.页面分析

1. 分别展示全部，待付款，已付款，退款/退货的订单列表
2. 在我的页面，点击订单去到订单列表
3. 点击订单列表其中一项，去到订单详情
4. 待支付的订单，点支付可以完成支付

#### 02.静态页面

1. 顶部tab栏
2. 订单列表展示

#### 03.基本逻辑

1. 我的页面点击不同菜单去到订单列表，选中对应的tab
2. 点击tab展示对应的列表

#### 04.请求&渲染数据

1. 未登录跳转登录

2. 渲染订单列表

   1. 接口`/api/public/v1/my/orders/all?type=1`

      1. 请求方式GET

      2. 请求头:

          "Authorization" : token //需要设置token带给后台

