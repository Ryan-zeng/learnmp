# 微信小程序学习第4天



## 豆瓣电影案例

#### 01-详情页面-剧情简介展开收起效果

1. app.json添加`pages/detail/main`
2. pages copy文件夹，重命名为detail



## Tab栏配置

tabBar是配置Tab栏，tab切换显示对应的页面

使用方法：在app.json里面配置

```js
 "tabBar": {
      // tab选中时的文字颜色
      "selectedColor":"#eb4450",
      "list": [
        {
          // tab选中时显示的页面路径
          "pagePath": "pages/index/index",
          // tab的文案
          "text": "首页",
          // tab没选中时的图片路径
          "iconPath":"/images/icon_home@3x.png",
          // tab选中时的图片路径
          "selectedIconPath":"/images/icon_home_active@3x.png"
        }
     }
}
```



[传送门](https://developers.weixin.qq.com/miniprogram/dev/reference/configuration/app.html#tabBar)

>1. 什么是Tab栏呢。看到我们的设计图，这个首页分类购物车及我的，这种底部的菜单就是Tab栏。不够直观是吧。我们再看看就京东，是不是点首页就展示首页页面，点分类展示分类。。。
>2. 那么我们怎样来实现这个Tab栏呢？同样的小程序里为我们提供了Tab组件，但是这个组件的使用，不用当标签使用，直接配置就可以了。简单不。
>3. 我们看到小程序的文档，这个全局配置，也就是app.json里面的配置。新建一个01_demo项目，打开app.json看看，已经配置了两个属性pages和window对吧，对应到文档里的说明分别页面路径列表和全局的默认窗口表现对吧。第三个属性是tabBar,就是用来配置底部tab栏的。
>4. 还有一堆属性，不用急，有一些800年用不着，需要用的时候再查就行。再往下滚是对每个属性的详情说明，tabBar是配置Tab栏，tab切换显示对应的页面。下边呢，是对tabBar里面的属性的说明。先不看，我们滚到下边有一个配置示例代码。tabBar直接copy到app.json里面。
>5. 看一眼我们copy过来的代码，这个list属性是一个数组，数组每一个元素对应一个Tab栏的配置，text就是tab栏的文案，pagePath就是点击tab栏显示的页面路径。正好这两个页面路径是存在着的。那么保存我们看效果。
>6. 是不是可以切换了，好。这个就是Tab栏最基本的使用。是不是只需要配置就行啦。接着来实现设计图上这个Tab栏。
>7. 新建四个页面，配置tabBar.但是我们注意选中的时候其实tab栏文字的颜色是有变的。看文档有没有配置selectedColor。
>8. 还有图标没有配置对吧。iconPath是没选中时的图片路径，selectedIconPath是选中时的图片路径。不支持网络路径是吧。图片我们有准备，copy到项目里面来，配置。



## Tab栏切换

1. 只有配置在tabBar中的页面才有tab栏
2. 页面跳转
   1. 跳转到tab页面用`switchTab`
   2. 跳转到非tab页面用`navigateTo`

> 1. 看到京东页面，有一个登录按钮，点登录跳转到登录页，登录完成应该是回来首页吧。这里我们简化一个流程，首页放一个登录按钮，点登录跳转登录页，登录页上有一个返回按钮，点返回返回到首页。
> 2. 我们先来建一个登录页。首页放一个登录按钮，注册事件，事件处理里面，wx.navigateTo到登录页。可以观察到跳转成功，并且登录页底部有tab吗？说明什么只有配置在tabBar中的页面才有tab栏
> 3. 同样的登录页返回首页，也用wx.navigateTo可以吗？试试，并不行。也没有报错。我加一个console.logr看看，是否调用到了。调用了，问题在于wx.navigateTo没有效果。因为这里非tab页跳转tab页，需要用wx.switchTab
> 4. 那首页跳转到登录页用switchTab可以吗？也不行。所以记一下笔记。

​	

## 组件Input

[传送门](https://developers.weixin.qq.com/miniprogram/dev/component/input.html)

输入框

用法基本和html input标签一样

特点：

1. 默认没有边框

如何获取输入框中的内容

1. 添加input事件 bindinput
2. 事件处理方法里面，event.detail.value即是用户的输入

> 1. 这一小节我们来学习一下组件input，它是什么呢，和html input标签一样，就是输入框，用来获取用户输入的。用法也基本和html input标签一样。
> 2. 来我们来使用一下。来一个input框，页面上啥也没有？为什么呢？其实页面上是可以输入的，只是没有边框。所以我们说input组件默认没有边框。那我们给它加一个边框。
> 3. 那么怎么给input框设置值和取值呢。设置值用value
> 4. 取值并没有v-model可以使用。那只能通过input事件了。bindinput.在事件处理方法里面，同样可以获取一个事件对象，我们打印一下。那么当我们输入的时候，就一直打印事件对象。event.detail.value就是用户输入的值。



## 优购案例

#### 01-案例分析

1. 资料

#### 02-准备mpvue项目